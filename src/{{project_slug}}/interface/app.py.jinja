"""NiceGUI application setup."""

import os

from dotenv import load_dotenv
from nicegui import ui

# Load environment variables from .env file
load_dotenv()

{%- if use_oauth %}
# Import OAuth routes to register them
from {{ project_slug }}.interface.pages import (  # noqa: E402
    login,  # noqa: F401
{%- if oauth_providers in ['twitter', 'both'] %}
    tweets,  # noqa: F401
{%- endif %}
)
from {{ project_slug }}.interface.routes import oauth_routes  # noqa: E402, F401
{%- else %}
from {{ project_slug }}.interface.pages.home import create_home_page  # noqa: E402
{%- endif %}

ui.run(
    host=os.getenv("NICEGUI_HOST", "0.0.0.0"),  # Use 0.0.0.0 in Docker, localhost for local dev
    storage_secret=os.getenv("STORAGE_SECRET", "random secret goes here"),
    port=int(os.getenv("NICEGUI_PORT", "8080")),
    reload=False
)
